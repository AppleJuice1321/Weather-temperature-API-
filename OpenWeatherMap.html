<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <title>API OpenWeatherMap</title>
</head>
  <body>
  <h2>ProgB - hent data fra OpenWeatherMap's API.</h2>
  <p> </p>
  <h3>Kan køre lokalt på computeren - bruger ikke PHP eller database</h3>
  <p> </p>
  <h3 id="url">URL: </h3>
<p id=Temperatur> </p>

<script>
GetAPIdata = async() => {
const url = 'http://api.openweathermap.org/data/2.5/weather?q=Ringsted,dk&APPID=5cf8b0ace7ab033734f04852616bf111';
document.getElementById('url').innerHTML = "Vi henter en JSON fil fra " + url;
let response = await fetch(url);
if (response.ok) { 
  let data = await response.json();
  var Temperatur = (data.main.temp - 273.15).toPrecision(3);

document.getElementById("Temperatur").innerHTML = ("temperatur: " +Temperatur)
}

else {
  alert("HTTP-Error: " + response.status);
}
}

GetAPIdata();
</script>
</body>
</html>
